<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<program>
    <events>
        <event type="switchLight"/>
    </events>
    <classes>
        <class name="lightSwitcher">
            <events>
                <inputEvent type="&lt;Start&gt;"/>
                <inputEvent type="switchLight"/>
            </events>
            <emits/>
            <memberVariables>
                <member name="lightOn" type="BOOLEAN"/>
            </memberVariables>
            <handlers>
                <handler event="&lt;Start&gt;" name="constructor" x="26.0" y="192.0">
                    <block x="23.0" y="32.0">
                        <setVar name="lightOn" x="0.0" y="0.0">
                            <value x="140.0" y="10.0">false</value>
                        </setVar>
                    </block>
                </handler>
                <handler event="switchLight" name="switchLight" x="341.0" y="12.0">
                    <block x="23.0" y="32.0">
                        <FunctionCall name="switchLight" x="0.0" y="0.0">
                            <params/>
                            <returns/>
                        </FunctionCall>
                    </block>
                </handler>
            </handlers>
            <functions>
                <function name="switchLight" x="372.0" y="166.0">
                    <params/>
                    <block x="20.0" y="40.0">
                        <if-else x="0.0" y="0.0">
                            <cond>
                                <var name="lightOn"/>
                            </cond>
                            <block x="23.0" y="63.0">
                                <appear x="0.0" y="0.0">
                                    <value x="100.0" y="10.0">lightOff</value>
                                </appear>
                            </block>
                            <block x="23.0" y="164.0">
                                <appear x="0.0" y="0.0">
                                    <value x="100.0" y="10.0">lightOn</value>
                                </appear>
                            </block>
                        </if-else>
                        <setVar name="lightOn" x="0.0" y="269.0">
                            <operator op="!" x="140.0" y="10.0">
                                <var name="lightOn"/>
                                <dummy/>
                            </operator>
                        </setVar>
                    </block>
                </function>
            </functions>
            <floatingBlocks/>
            <costumes>
                <costume name="lightOff" path="lightOff_lightSwitcher"/>
                <costume name="lightOn" path="lightOn_lightSwitcher"/>
            </costumes>
        </class>
        <class name="Controller">
            <events>
                <inputEvent type="&lt;mousePress&gt;"/>
            </events>
            <emits>
                <outputEvent type="switchLight"/>
            </emits>
            <memberVariables/>
            <handlers>
                <handler event="&lt;mousePress&gt;" name="" x="367.0" y="50.0">
                    <block x="23.0" y="32.0">
                        <emit name="switchLight" x="0.0" y="0.0"/>
                    </block>
                </handler>
            </handlers>
            <functions/>
            <floatingBlocks/>
            <costumes>
                <costume name="redbutton" path="redbutton_Controller"/>
            </costumes>
        </class>
        <class name="AND">
            <events>
                <inputEvent type="&lt;keyA&gt;"/>
                <inputEvent type="switchLight"/>
                <inputEvent type="&lt;Start&gt;"/>
            </events>
            <emits>
                <outputEvent type="switchLight"/>
            </emits>
            <memberVariables>
                <member name="letThrough" type="BOOLEAN"/>
            </memberVariables>
            <handlers>
                <handler event="&lt;keyA&gt;" name="" x="365.0" y="113.0">
                    <block x="23.0" y="32.0">
                        <setVar name="letThrough" x="0.0" y="0.0">
                            <operator op="!" x="140.0" y="10.0">
                                <var name="letThrough"/>
                                <dummy/>
                            </operator>
                        </setVar>
                    </block>
                </handler>
                <handler event="&lt;Start&gt;" name="" x="95.0" y="309.0">
                    <block x="23.0" y="32.0">
                        <setVar name="letThrough" x="0.0" y="0.0">
                            <value x="140.0" y="10.0">false</value>
                        </setVar>
                    </block>
                </handler>
                <handler event="switchLight" name="" x="515.0" y="406.0">
                    <block x="23.0" y="32.0">
                        <if x="0.0" y="0.0">
                            <cond>
                                <var name="letThrough"/>
                            </cond>
                            <block x="23.0" y="53.0">
                                <emit name="switchLight" x="0.0" y="0.0"/>
                            </block>
                        </if>
                    </block>
                </handler>
            </handlers>
            <functions/>
            <floatingBlocks/>
            <costumes/>
        </class>
    </classes>
    <wireframe>
        <instances>
            <instance class="lightSwitcher" name="Light1" x="180.0" y="62.0"/>
            <instance class="lightSwitcher" name="Light2" x="434.0" y="27.0"/>
            <instance class="Controller" name="Switch" x="66.0" y="379.0"/>
            <instance class="lightSwitcher" name="Light3" x="707.0" y="36.0"/>
            <instance class="AND" name="AND" x="462.0" y="270.0"/>
        </instances>
        <wires>
            <wire event="switchLight" from="Switch" to="Light1"/>
            <wire event="switchLight" from="Switch" to="Light2"/>
            <wire event="switchLight" from="Switch" to="AND"/>
            <wire event="switchLight" from="AND" to="Light3"/>
        </wires>
    </wireframe>
</program>
